inputSet:
  name: samplepythoninputset
  tags: {}
  identifier: samplepythoninputset
  orgIdentifier: WorkshopOrg
  projectIdentifier: devsecops763c5
  pipeline:
    identifier: pythonhelloworld
    properties:
      ci:
        codebase:
          connectorRef: org.workshopgithub
          build:
            type: branch
            spec:
              branch: main
          depth: 0
          prCloneStrategy: SourceBranch
    stages:
      - stage:
          identifier: build_test_and_run
          type: CI
          spec:
            execution:
              steps:
                - step:
                    identifier: Code_compile
                    type: Run
                    spec:
                      connectorRef: account.harnessImage
                - step:
                    identifier: Create_dockerfile
                    type: Run
                    spec:
                      connectorRef: account.harnessImage
                - step:
                    identifier: Build_and_Push_an_image_to_docker_registry
                    type: BuildAndPushDockerRegistry
                    spec:
                      connectorRef: docker_Quickstart
                      repo: ayushmittalac/harness-nodejs-sample
      - stage:
          identifier: Integration_test
          type: CI
          spec:
            execution:
              steps:
                - step:
                    identifier: python_server
                    type: Background
                    spec:
                      connectorRef: account.harnessImage
                      image: ayushmittalac/harness-nodejs-sample:latest
                - step:
                    identifier: test_connection_to_server
                    type: Run
                    spec:
                      connectorRef: account.harnessImage
